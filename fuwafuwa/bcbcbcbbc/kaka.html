<!doctype html5>
<html>
    <head>
        <title>bcasobi</title>
        <link rel="stylesheet" type="text/css" href="common.css">
    </head>
    <body>
        <h1>KAKA!!</h1>
<div class="code" style="text-align: left; width:600px; margin: auto;">
公開型: Null data outputと、ある特定のアドレスに0satoshiを送りつけるoutputが含まれたトランザクションを作る。
こうすると、「ある特定のアドレス」がログ用マーカーの役割を持ち、様々なbitcoinノードやbtc.comなどからアップロードされたデータを読み取ることができる。

※ ブロックチェーンクライアントの特徴 ... ブロックチェーンクライアントは、何千万とあるトランザクションから自分に関係あるものだけを選ぶことで、残高を計算している。bitcoindでは、watch-onlyアドレスというものを使って、何かしらのアドレスを「自分に関係あるもの」とみなし、トランザクションリストに追加することができる。これを用いることで、そのアドレス宛のトランザクションを列挙することができる。

非公開型: ある特定のアドレスから、自分自身のアドレスとNull data outputに送りつけるトランザクションを作る。
こうすると、「ある特定のアドレス」がログ用マーカーの役割をもつほか、「ある特定のアドレス」を持っている人だけが投稿できるようになる。

Witnessにデータをアップロード(公開型): P2WSHを使えば、通常のトランザクションフィールドではなくWitnessフィールドにデータをアップロードすることができる（はず。）(pay to anyone + 任意のデータをアップロードできる)スクリプトをハッシュしてP2SHにすれば,、そのスクリプトをマーカーとしたデータをWitnessフィールドに書ける。

Witnessにデータをアップロード(非公開型):  (ある特定のアドレスを保持している + 任意のデータを書き込める)スクリプトをハッシュしてP2SHにすれば、署名と任意のデータをWitnessフィールドにアップロードすることができる。ただし署名がめっちゃ面倒。

・・・などなど、bitcoinでも工夫すればスマートコントラクトっぽいことができる！！！！
</div>
    </body>
</html>
